<ui:composition template="/WEB-INF/templates/base.xhtml" 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui">
  <ui:define name="title"><h:outputText value="#{msg.updateSettings}" /></ui:define>
  <ui:define name="content">
  <div class="span2 offset4">
    <h2>
      <h:outputFormat value="#{msg.welcomeUser}">
        <f:param value="#{accountBean.account.username}"/>
      </h:outputFormat>
    </h2>
    <h:form styleClass="one-line">
      <h:panelGrid columns="2">
        <h:column>
          <h:outputLabel value="#{msg.account_Birthday}" />
          <p:calendar value="#{accountBean.account.birthday}" navigator="true" mask="true"
                      pattern="MM/dd/yyyy" yearRange="#{accountBean.minBirthdayYear}:#{accountBean.maxBirthdayYear}"/>
        </h:column>
        <h:column>
          <h:outputLabel value="#{msg.account_Age}" />
          <h:inputText value="#{accountBean.account.currentSettings.age}" size="3" />
        </h:column>
      </h:panelGrid>
      
      <ui:include src="/WEB-INF/tags/dropdown.xhtml">
        <ui:param name="label" value="#{msg.account_RecalcDay}" />
        <ui:param name="items" value="#{accountBean.weekdays}" />
        <ui:param name="selected" value="#{accountBean.selectedWeekday}" />
        <ui:param name="binding" value="#{accountBean.account.currentSettings.recalculationDay}" />
      </ui:include>
      
      <ui:include src="/WEB-INF/tags/dropdown.xhtml">
        <ui:param name="label" value="#{msg.account_ActivityMultiplier}" />
        <ui:param name="items" value="#{accountBean.activityMultipliers}" />
        <ui:param name="selected" value="#{accountBean.selectedActivityMultiplier}" />
        <ui:param name="binding" value="#{accountBean.account.currentSettings.activityMultiplier}" />
      </ui:include>
      
      <ui:include src="/WEB-INF/tags/dropdown.xhtml">
        <ui:param name="label" value="#{msg.account_Formula}" />
        <ui:param name="items" value="#{accountBean.formulas}" />
        <ui:param name="selected" value="#{accountBean.selectedFormula}" />
        <ui:param name="binding" value="#{accountBean.account.currentSettings.tdeeFormula}" />
      </ui:include>
      
      <h:commandButton action="#{accountBean.saveUpdatedSettings()}" value="#{msg.updateSettings}" />
    </h:form>
  </div>
  </ui:define>
</ui:composition>