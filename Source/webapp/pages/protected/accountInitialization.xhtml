<ui:composition template="/WEB-INF/templates/base.xhtml" 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
  <ui:define name="title"><h:outputText value="#{msg.account_Initialization}" /></ui:define>
  <ui:define name="content">
  <ui:include src="/WEB-INF/includes/mainLogo.xhtml">
    <ui:param name="extraHeaderDetail" value="#{msg.firstTimeUser}" />
  </ui:include>
  <div class="container">
    <h:form id="account-settings" styleClass="nl-form">
      <ol class="steps">
        <ui:remove>Step 1: Setting Unit System</ui:remove>
        <li class="current">
          <span><h:outputText value="#{msg.unitSystemStep1}" /></span>
          <ui:include src="/WEB-INF/tags/formFieldDropdown.xhtml">
            <ui:param name="binding"  value="#{accountController.currentSettings.unitSystem}" />
            <ui:param name="selected" value="#{accountController.selectedUnitSystem}" />
            <ui:param name="items"    value="#{accountController.unitSystems}" />
            <ui:param name="toggleId" value="unit-system" />
          </ui:include>
          <span><h:outputText value="#{msg.unitSystemStep2}" /></span>
        </li>
        
        <ui:remove>Step 2: Setting gender, height, and starting weight.</ui:remove>
        <li>
          <span><h:outputText value="#{msg.genderStep}" /></span>
          <ui:include src="/WEB-INF/tags/formFieldDropdown.xhtml">
            <ui:param name="binding"  value="#{accountController.account.gender}" />
            <ui:param name="selected" value="#{accountController.selectedGender}" />
            <ui:param name="items"    value="#{accountController.genders}" />
          </ui:include>
          
          <span><h:outputText value="#{msg.heightStep}" /></span>
          <div class="inline">
            <ui:include src="/WEB-INF/tags/formFieldDropdown.xhtml">
              <ui:param name="binding"  value="#{accountController.heightLarge}" />
              <ui:param name="selected" value="1" />
              <ui:param name="items"    value="#{accountController.startingLargeHeights}" />
              <ui:param name="toggleId" value="height-large-value" />
              <ui:param name="ulId"     value="height-large-items" />
              <ui:param name="ulClass"  value="small" />
            </ui:include>
            <span id="height-large-unit" class="#{accountController.currentSettings.unitSystem == 'IMPERIAL' ? 'ft' : 'm'}"></span>
            
            <ui:include src="/WEB-INF/tags/formFieldDropdown.xhtml">
              <ui:param name="binding"  value="#{accountController.heightSmall}" />
              <ui:param name="selected" value="1" />
              <ui:param name="items"    value="#{accountController.startingSmallHeights}" />
              <ui:param name="toggleId" value="height-small-value" />
              <ui:param name="ulId"     value="height-small-items" />
              <ui:param name="ulClass"  value="small" />
            </ui:include>
            <span id="height-small-unit" class="#{accountController.currentSettings.unitSystem == 'IMPERIAL' ? 'in' : 'cm'}"></span>
          </div>
          
          <span><h:outputText value="#{msg.weightStep}" /></span>
          <h:inputText value="#{accountController.currentWeight}" />
          <span id="weight-unit" class="#{accountController.currentSettings.unitSystem == 'IMPERIAL' ? 'lbs' : 'kg'}"></span>
        </li>
      </ol>
      <div id="form-field-overlay" class="form-field-overlay"></div>
    </h:form>
  </div>
  <h:outputScript library="js" name="nlForm.js" />
  <h:outputScript library="js/account" name="accountInitialization.js" />
  </ui:define>
</ui:composition>