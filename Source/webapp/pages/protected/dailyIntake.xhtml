<ui:composition template="/WEB-INF/templates/base.xhtml" 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui">
  <ui:define name="title"><h:outputText value="#{msg.intake}" /></ui:define>
  <ui:define name="content">
  <div class="span">
    <h:form>
      <c:forEach items="#{accountBean.account.currentDailyIntakeWeek}" var="intake">
      <table class="data-table">
        <tr>
          <td></td>
          <th><h:outputText value="#{intake.intakeDate}" /></th>
          <c:forEach items="#{intake.meals}" var="meal">
          <th><h:outputText value="meal.name" /></th>
          </c:forEach>
          <th><h:outputText value="#{msg.intake_ExpectedTotal}" /></th>
          <th><h:outputText value="#{msg.intake_CurrentTotal}" /></th>
          <th><h:outputText value="#{msg.intake_RemainingTotal}" /></th>
        </tr>
        <tr>
          <th><h:outputText value="#{msg.intake_Calories}" /></th>
          <ui:remove><c:forEach items="#{intake.meals}" var="meal">
          <td><h:outputText value="meal.calories" /></td>
          </c:forEach></ui:remove>
          <td><h:outputText value="#{intake.expectedCalories}" /></td>
          <td><h:outputText value="#{intake.currentCalories}" /></td>
          <td><h:outputText value="#{intake.remainingCalories}" /></td>
        </tr>
        <tr>
          <th><h:outputText value="#{msg.intake_Fat}" /></th>
          <ui:remove><c:forEach items="#{intake.meals}" var="meal">
          <td><h:outputText value="meal.fat" /></td>
          </c:forEach></ui:remove>
          <td><h:outputText value="#{intake.expectedFat}" /></td>
          <td><h:outputText value="#{intake.currentFat}" /></td>
          <td><h:outputText value="#{intake.remainingFat}" /></td>
        </tr>
        <tr>
          <th><h:outputText value="#{msg.intake_Carbs}" /></th>
          <ui:remove><c:forEach items="#{intake.meals}" var="meal">
          <td><h:outputText value="meal.carbohydrates" /></td>
          </c:forEach></ui:remove>
          <td><h:outputText value="#{intake.expectedCarbohydrates}" /></td>
          <td><h:outputText value="#{intake.currentCarbohydrates}" /></td>
          <td><h:outputText value="#{intake.remainingCarbohydrates}" /></td>
        </tr>
        <tr>
          <th><h:outputText value="#{msg.intake_Protein}" /></th>
          <ui:remove><c:forEach items="#{intake.meals}" var="meal">
          <td><h:outputText value="meal.protein" /></td>
          </c:forEach></ui:remove>
          <td><h:outputText value="#{intake.expectedProtein}" /></td>
          <td><h:outputText value="#{intake.currentProtein}" /></td>
          <td><h:outputText value="#{intake.remainingProtein}" /></td>
        </tr>
      </table>
      </c:forEach>
    </h:form>
  </div>
  </ui:define>
</ui:composition>